<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>IT requirements on Alfred, Icelandic jobs site</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.4/build/global/luxon.min.js"></script>
    <link rel="stylesheet" href="style.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="text-white">
    <main class="max-w-6xl mx-auto p-3 space-y-6">
        <header id = "main-header" class="flex flex-col md:flex-row md:items-center justify-between gap-2">
            <div class="w-full"> <!-- Added w-full here -->
                <div id = "title-top-section" class = "flex justify-between">
                    
                    <h1 id = "main-title" class="text-2xl md:text-3xl font-semibold tracking-tight">
                    TECH WANTED IN THE ICELANDIC IT MARKET
                    </h1>
                   <a href="#about" id = "about-button">ABOUT</a>

                </div>
               
                <div id = "subtext" class="flex justify-between items-center w-full mt-1">
                    <h3 class="text-sm md:text-base font-light">Based on data from <a href="https://alfred.is" target="_blank">Alfred</a></h3>
                    <p id="lastUpdated" class="text-sm"></p>
                </div>
            </div>
        </header>

        <p class = "charts-text">Here you can see today´s required tech either in a total of how many each category
        has in total or see each category´s specific technologies required. This of course changes everyday</p>

        <!-- DONUT CARD -->
        <section class="grid grid-cols-1">
            <div class="bg-[#111239] bg-opacity-80 backdrop-blur-md rounded-2xl shadow p-4 md:p-6 text-white">
    
                <h2 class="text-lg font-medium mb-4 text-center">TODAY´S DEMAND OF TECHNOLOGIES</h2>

                <!-- Donut + legend/slider layout -->
                <div class="mx-auto w-full max-w-[1100px] grid grid-cols-1 md:grid-cols-2 items-center gap-6">

                    <!-- Donut (smaller fixed size: 380px instead of responsive max-w) -->
                    <div id = "donutContainer" class="max-w-[380px] max-h-[380px] mx-auto">
                        <canvas id="donutChart" class="w-full h-full"></canvas>
                    </div>

                    <!-- Right column: legend + slider -->
                    <div class="flex flex-col  items-center justify-evenly w-full max-w-[400px] mx-auto">
                        <!-- Legend container: JS will inject legend items -->
                        <div id="donutLegend" class="flex flex-wrap justify-evenly gap-4"></div>


                        <!-- tabs to control Donut behaviour -->
                       <div class="flex flex-wrap justify-center gap-0.5 mt-4" id="donutTabs">
                            <button class="px-3 py-1 text-[1rem] rounded-full bg-white bg-opacity-15 text-white shadow-sm donut-tab active" data-category="all">
                                Total
                            </button>
                            <!-- JavaScript will add the rest of category buttons here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <p class = "charts-text">This chart shows the trends in required technologies over time, allowing you to see how demand has shifted.
            You can see the total number of requirements or filter by specific categories to analyze trends within those areas.
        </p>
        <!-- TIMELINE CARD -->
        <section id = "timeline-section" class="bg-[#111239] bg-opacity-80 backdrop-blur-md rounded-2xl shadow p-2 md:p-3 ">
            <h2 class="text-lg font-medium mb-6 text-center">TRENDS OVER TIME</h2>
            
            <div id="data-message" style="display: none; position: fixed; top: 20px; right: 20px; background: #ff4444; color: white; padding: 10px; border-radius: 5px; z-index: 1000;"></div>

    <div class="dropdown">
        <button id = "test-buttons" class="dropdown-button">Select month</button>
        <div class="dropdown-menu">
            <button class="month-button">January</button>
            <button class="month-button">February</button>
            <button class="month-button">March</button>
            <button class="month-button">April</button>
            <button class="month-button">May</button>
            <button class="month-button">June</button>
            <button class="month-button">July</button>
            <button class="month-button">August</button>
            <button class="month-button">September</button>
            <button class="month-button">October</button>
            <button class="month-button">November</button>
            <button class="month-button">December</button>
        </div>
    </div>
        
            <div class="timeline-chart-container" style="position: relative; height: 290px; width: 100%;">            
                <canvas id="timeline"></canvas>
            </div>

            <div id="timeline-legend" class="flex flex-wrap justify-center gap-2 mt-4 p-2"></div>


            <div class="flex justify-center mb-6">
                <div id="tab-container" class="rounded-full p-1 flex flex-wrap justify-center gap-2">

                    <button data-category = "All" id="tab-all" class="tab-button">Total</button>
                    <button data-category = "Web/JS" id="tab-web/js" class="tab-button">Web/JS</button>
                    <button data-category= "Backend" id="tab-backend" class="tab-button">Backend</button>
                    <button data-category = "Databases" id="tab-databases" class="tab-button">Databases</button>
                    <button data-category="BI Tools" id="tab-bitools" class="tab-button">BI Tools</button>
                    <button data-category="DevOps/Cloud" id="tab-devops/cloud" class="tab-button">DevOps/Cloud</button>
                    <button data-category="Front Tools" id="tab-front" class="tab-button">Front Tools</button>
                    <button data-category="Design" id="tab-design" class="tab-button">Design</button>
                    <button data-category="Net/Sec" id="tab-netsec" class="tab-button">Net/Sec</button>
    
                </div>
            </div>

        </section>

        <section id = "about" class="grid grid-cols-1">
            <h2 style = "text-align: center; margin-bottom: 5%;">ABOUT THIS WEBSITE </h2>

            <p class = "charts-text">The purpose of this website is to aid those who want in a way, see how the IT market in Iceland is doing.
            The data here could reflect the fluctuations in the market but that wont necessarily be 100% representative of reality,
            since the data used is solely based on jobs posted on <a href="https://alfred.is" target="_blank">Alfred</a>, which although is the biggest job site in Iceland (there are of course other sites where IT
            jobs are also posted, Linkedin, internal company searches, etc) is not the only one.</p>
            <br>
            <p class="charts-text">The main focus here is to see what technologies and tools are being asked, so if you are looking for a job, or want to learn or do a course that will help you get a job,
            this website could help you make a more informed choice, and of course other people like recruiters, curious individuals, etc. can have a look and
            use the information here displayed for different purposes.</p>
            <br>
            <p class="charts-text">Best efforts were put to track the most relevant technologies, but naturally some might be missing.
            The data displayed here is updated once per day.</p>
            <br>
            <p class="charts-text">This is a personal project and no profit is being made from it.
            For feedback, comments or questions, you can reach me in the contact options below.</p>
            
        </section>

        <footer>
            <div class="footer-links">
                <p>CONTACT ME!</p>

                <a href="mailto:matias.cavalcante93@gmail.com" aria-label="Email me">
                    <i class="fas fa-envelope"></i>
                </a>
        
                <a href="https://github.com/matias-cavalcante" target="_blank" aria-label="My GitHub profile">
                    <i class="fab fa-github"></i>
                </a>
            </div>
        </footer>
    </main>

  

<script src="scripts/main.js" type="module"></script>
</body>

</html>